    <!doctype html>
    <html lang="en">
    <head>
      <meta charset="utf-8"/>
      <meta name="viewport" content="width=device-width,initial-scale=1"/>
      <title>EGR — Our Fleet</title>
      <link rel="icon" href="/images/logo.png"/>
      <link rel="stylesheet" href="/assets/css/main.css"/>

    </head>
    <body>
      <div id="pageLoader" class="pageLoader hide" aria-hidden="true">
        <div class="loaderCard">
          <img src="/images/logo.png" alt="EGR"/>
          <div>
            <div class="t">Emirates Group Roblox</div>
            <div class="s">Loading…</div>
          </div>
          <div class="spinner" aria-hidden="true"></div>
        </div>
      </div>

      <div id="siteNav"></div>

      <section class="section">
  <div class="container">
    <div class="sectionTitle">
      <h2>Our Fleet</h2>
      <span class="muted">PTFS • ROAV</span>
    </div>

    <div class="row" style="flex-wrap:wrap">
      <button class="btn" id="tabPTFS">PTFS</button>
      <button class="btn" id="tabROAV">ROAV</button>
      <a class="btn" href="/redirects/flydubai/">FlyDubai (Discord)</a>
    </div>

    <div style="height:12px"></div>

    <div id="fleetGrid" class="grid3"></div>
    <div id="fleetMsg" class="muted" style="margin-top:10px"></div>
  </div>
</section>


      <div id="siteFooter"></div>

      <script src="/assets/js/config.js"></script>
      <script src="/assets/js/layout.js"></script>
      <script src="/assets/js/ui.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="/assets/js/supabase.js"></script>
<script src="/assets/js/cms.js"></script>
<script>
  const grid = document.getElementById("fleetGrid");
  const msg = document.getElementById("fleetMsg");
  const tabPTFS = document.getElementById("tabPTFS");
  const tabROAV = document.getElementById("tabROAV");

  function setActive(btn){
    [tabPTFS, tabROAV].forEach(b => b.classList.remove("primary"));
    btn.classList.add("primary");
  }

  async function load(operator){
    EGR_UI.showLoader(false);
    msg.textContent = "";
    try{
      if(!window.sb) throw new Error("Supabase not configured. Update /assets/js/config.js");
      const data = await EGR_CMS.fleet(operator);
      grid.innerHTML = data.map(a => `
        <div class="card fadeUp" style="padding:14px; overflow:hidden">
          <div style="border-radius:18px; overflow:hidden; border:1px solid var(--line)">
            <img src="${escapeAttr(a.image_url || '/images/bg1.png')}" alt="${escapeAttr(a.aircraft_name || '')}"
              style="width:100%; height:170px; object-fit:cover"/>
          </div>
          <div style="margin-top:10px; display:flex; align-items:center; justify-content:space-between; gap:10px">
            <div style="font-weight:900">${escapeHtml(a.aircraft_name || '')}</div>
            <span class="badge">${escapeHtml(a.status || 'Operational')}</span>
          </div>
          <div class="muted" style="margin-top:6px; font-size:13px">${escapeHtml(a.description || '')}</div>
        </div>
      `).join("");
      msg.textContent = data.length ? "" : `No fleet entries for ${operator}. Add them in /admin/.`;
    }catch(e){
      msg.textContent = e.message || String(e);
      grid.innerHTML = "";
    }finally{
      EGR_UI.hideLoader();
      document.querySelectorAll(".fadeUp").forEach(el=>el.classList.add("in"));
    }
  }

  tabPTFS.addEventListener("click", ()=>{ setActive(tabPTFS); load("PTFS"); history.replaceState(null,"","/fleet/#ptfs"); });
  tabROAV.addEventListener("click", ()=>{ setActive(tabROAV); load("ROAV"); history.replaceState(null,"","/fleet/#roav"); });

  // Initial
  const hash = (location.hash || "").toLowerCase();
  if(hash.includes("roav")){
    setActive(tabROAV); load("ROAV");
  }else{
    setActive(tabPTFS); load("PTFS");
  }

  function escapeHtml(s){
    return String(s ?? "")
      .replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")
      .replaceAll('"',"&quot;").replaceAll("'","&#039;");
  }
  function escapeAttr(s){ return escapeHtml(s); }
</script>

    </body>
    </html>
